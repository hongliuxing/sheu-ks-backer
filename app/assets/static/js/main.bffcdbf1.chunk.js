(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,n){e.exports=n(86)},42:function(e,t,n){},46:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},80:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(30),r=n.n(c),o=n(87),i=(n(42),n(2)),s=n(3),u=n(6),h=n(4),m=n(5),d=(n(44),n(9)),p=(n(46),n(13)),v=n(88),f=n(12),b="menu",y="link",O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.pathCache,a=void 0===n?[]:n,l=t.activePath,c=void 0===l?"/":l,r=t.activeType,o=void 0===r?null:r;Object(i.a)(this,e),this.pathCache=a,this.activePath=c,this.activeType=o,this.marge=this.marge.bind(this)}return Object(s.a)(e,[{key:"marge",value:function(t){var n=!0,a=!1,l=void 0;try{for(var c,r=this.pathCache[Symbol.iterator]();!(n=(c=r.next()).done);n=!0){var o=c.value;t.pathCache.includes(o)?console.warn("route url [".concat(o,"] repeated !")):t.pathCache.push(o)}}catch(i){a=!0,l=i}finally{try{n||null==r.return||r.return()}finally{if(a)throw l}}return new e({pathCache:t.pathCache,activePath:t.activePath||this.activePath})}}]),e}(),j=new O({pathCache:["/","/test1","/test3"],activePath:"/"}),g=n(15),E=n(21),N={urlCacheMount:function(e){return Object(E.a)({},e,{type:"url_mount"})},urlCacheUpdate:function(e){return{activePath:e.activePath,type:"url_pudate"}}},w=Object(f.b)({routerUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"url_mount":return e instanceof O?e.marge(t):e;case"url_pudate":return Object(E.a)({},e,Object(g.a)({},"activePath",t.activePath));default:return e}}}),k={routerUrl:j},C=Object(f.c)(w,k),x=n(89),M=(n(52),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"logo-main"},l.a.createElement("div",{id:"logo-1",className:"logo-font logo-card"},l.a.createElement("div",{id:"logo-2",className:"logo-card"},l.a.createElement("div",null,"\u963f\u5e03\u7684\u5b9e\u9a8c\u5ba4"),l.a.createElement("div",null,"luv-ui.com")),l.a.createElement("div",null,"\u963f\u5e03\u7684\u5b9e\u9a8c\u5ba4"),l.a.createElement("div",null,"luv-ui.com")))}}]),t}(a.Component)),U=function(){function e(t){var n=t.root,a=void 0!==n&&n,l=t.homeUrl,c=t.className,r=t.style,o=t.text,s=t.url,u=t.event,h=t.children;if(Object(i.a)(this,e),this.root=a,this.homeUrl=l,this.className=c,this.style=r||{},this.text=o,this.url=s,this.event=u,this.children=h,Array.isArray(this.children)){var m=this;m.children.forEach(function(e){e.parent=e.parent.bind(m)})}}return Object(s.a)(e,[{key:"parent",value:function(){return this}},{key:"find",value:function(e){var t=Object.keys(e),n=new P;return function a(l){for(var c=Array(t.length).fill(!1),r=0,o=function(){var n=t[i];l[n]&&"className"===n?c[r++]=l[n].split(" ").some(function(t){return t===e[n]}):l[n]&&l[n]===e[n]&&(c[r++]=!0)},i=0;i<t.length;i++)o();c.includes(!1)||n.push(l),l.children&&l.children.forEach(function(e){a(e)})}(this),n}},{key:"findUrls",value:function(){var e=[];return function t(n){n.url&&!e.includes(n.url)&&e.push(n.url),Array.isArray(n.children)&&n.children.forEach(function(e){t(e)})}(this),e}}]),e}(),P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(i.a)(this,e),this.els=t,this.length=t.length,this.addClass=this.addClass.bind(this),this.removeClass=this.removeClass.bind(this)}return Object(s.a)(e,[{key:"push",value:function(e){this.els.push(e),this.length++}},{key:"addClass",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.els.forEach(function(a){a.className&&"string"===typeof a.className?a.className.includes(t)||(a.className=a.className.concat(" ",t)):a.className=t,n&&function(a){if("function"===typeof a.parent){var l=a.parent();!1===l.root&&new e([l]).addClass(t,n)}}(a)}),this}},{key:"removeClass",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.els.forEach(function(a){"string"===typeof a.className&&a.className.includes(t)&&(a.className=a.className.replace(t,"").trim()),n&&function(a){if("function"===typeof a.parent){var l=a.parent();!1===l.root&&new e([l]).removeClass(t,n)}}(a)}),this}}]),e}(),A=new U({root:!0,homeUrl:"/",className:"topbar",style:{width:1200},children:[new U({text:"\u9996\u9875",className:"lv1",url:"/"}),new U({text:"\u83dc\u53551-yo",className:"lv1",children:[new U({text:"\u83dc\u53551-1",className:"lv2",url:"/menu1-1"}),new U({text:"\u83dc\u53551-2",className:"lv2",url:"/menu1-2"}),new U({text:"\u83dc\u53551-3",className:"lv2",url:"/menu1-3"})]}),new U({text:"\u83dc\u53552",className:"lv1",children:[new U({text:"\u83dc\u53552-1",className:"lv2",url:"/menu2-1"}),new U({text:"\u83dc\u53554-2",className:"lv2",url:"/menu2-2"}),new U({text:"\u83dc\u53552-3",className:"lv2",url:"/menu2-3"})]}),new U({text:"News",className:"lv1",url:"/news"}),new U({text:"\u83dc\u53554",className:"lv1",children:[new U({text:"\u83dc\u53554-1",className:"lv2",url:"/menu4-1"}),new U({text:"\u83dc\u53554-2",className:"lv2",url:"/menu4-2"}),new U({text:"\u83dc\u53554-3",className:"lv2",url:"/menu4-3"})]})]}),S=(n(54),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={},n.onloadItem=n.onloadItem.bind(Object(d.a)(Object(d.a)(n))),n.onMenuWillBuild=n.onMenuWillBuild.bind(Object(d.a)(Object(d.a)(n))),n.onActiveMenuUpdate=n.onActiveMenuUpdate.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onloadItem",value:function(e){var t=e.ulStyle,n=void 0===t?{}:t,a=this;return function e(t,c,r){var o=null;if(t.root&&t.children){var i=t.style.width||1e3;r=i/t.children.length<=150?{width:i/t.children.length+"px"}:{width:"150px"},o=l.a.createElement("ul",{className:"topbar-ul "+t.className,key:"it"+c++,style:n},t.children.map(function(t){return e(t,c++,r)}))}else o=t.children?l.a.createElement("li",{className:t.className,style:r,key:"it"+c++,onMouseOver:a.onShowChild,onMouseOut:a.onHideChild},l.a.createElement("a",null,t.text),l.a.createElement("ul",{className:"lv2-ul",key:"it"+c++,onMouseOut:a.onHideChild},t.children.map(function(t){return e(t,c++,r)}))):l.a.createElement("li",{className:t.className,style:r,key:"it"+c++},l.a.createElement(x.a,{to:t.url},t.text));return o}(A,0)}},{key:"onMenuWillBuild",value:function(e){var t=e.action,n=e.removeActived,a=void 0!==n&&n,l=null;this.state.menuUrls?l=this.state.menuUrls:(l=A.findUrls(),this.setState({menuUrls:l}));var c,r=C.getState().routerUrl.activePath,o="/",i=y;(c=l.includes(r))&&(o=r,i=b),a&&i===b&&A.find({className:"active-menu"}).removeClass("active-menu",!0),c&&A.find({url:r}).addClass("active-menu",!0);var s=new O({pathCache:l,activePath:o,activeType:i});"function"===typeof t&&t(s);var u=this.onloadItem({ulStyle:{width:"calc(100% - 80px)"}});this.setState({MenuItem:u})}},{key:"componentWillMount",value:function(){console.log("\u3010topbar\u3011componentWillMount ....");var e=this;this.onMenuWillBuild({action:function(t){e.props.onUrlPathnameMount(t)}})}},{key:"componentDidMount",value:function(){C.subscribe(this.onActiveMenuUpdate)}},{key:"onActiveMenuUpdate",value:function(){console.log("\u66f4\u65b0\u83dc\u5355\u6837\u5f0f, \u6267\u884c updateActiveMenu ..."),this.onMenuWillBuild({removeActived:!0})}},{key:"onShowChild",value:function(e){e.currentTarget.getElementsByClassName("lv2-ul")[0].style.display="block"}},{key:"onHideChild",value:function(e){var t=e.currentTarget;"UL"===t.tagName?e.currentTarget.style.display="none":"LI"===t.tagName&&(e.currentTarget.getElementsByClassName("lv2-ul")[0].style.display="none")}},{key:"render",value:function(){var e=this.state.MenuItem;return l.a.createElement("nav",{className:"topbar-nav col-md-10 col-lg-8"},l.a.createElement(M,null),e)}}]),t}(a.PureComponent));var I=Object(v.a)(Object(p.b)(function(e,t){return{}},function(e,t){return{onUrlPathnameMount:function(t){e(N.urlCacheMount(t))},onUrlPathnameUpdate:function(t){e(N.urlCacheUpdate(t))}}})(S)),W=n(36),H=n(32),T=(n(57),n(59),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).getSlot=n.getSlot.bind(Object(d.a)(Object(d.a)(n))),n.getSlotArray=n.getSlotArray.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getSlot",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(e=this.props[t])?l.a.createElement(e,n):""}},{key:"getSlotArray",value:function(){return e=this.props.slots,Array.isArray(e)?e.map(function(e,t){if(e instanceof a.PureComponent||"function"==typeof e)return l.a.createElement(e,{key:"slot_"+t});var n=e.component,c=e.props;return l.a.createElement(n,Object.assign({key:"slot_"+t},c))}):"";var e}}]),t}(a.PureComponent)),B=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("aside",{id:"sidebar"},"\u4fa7\u8fb9\u680f: ",this.props.text)}}]),t}(T),D=n(35),R=n.n(D),L=(n(80),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),t}(T)),V=(n(82),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("section",{id:"content-panel"},this.getSlotArray())}}]),t}(T)),Z=function(){return l.a.createElement("div",null,"TestA...")},J=function(){return l.a.createElement("div",null,"TestB...")},_=function(e){return l.a.createElement("div",null,"TestC...",e.texta)},q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){R()({method:"get",url:"http://127.0.0.1:7003/graphql?".concat("query={student(id:2){id,username}}"),headers:{"x-access-token":"eyJkYXRhIjp7ImlkIjoiMjYxOTE0ZDAtZjE5MS0xMWU4LWFhMzAtNjdjNDBkYmE0MjMzIn0sImNyZWF0ZWQiOjI1Nzc5MTg0LCJleHAiOjUxODQwMH0=.1GPSHUpaU/QvHhtMZAf4nq/eIRMCL9b+7lvK88s4WKw="}}).then(function(e){console.log("AXIOS RES ==> ",e)}).catch(function(e){console.log("AXIOS ERROR ==> ",e)})}},{key:"render",value:function(){return l.a.createElement("section",{id:"indexPanel",className:this.props.golbalPanelStyle},this.getSlot("sidebar",{text:"\u8fd9\u662fIndexPanel\u63d2\u5165\u7684Sidebar\u7ec4\u4ef6!"}),l.a.createElement(V,{slots:[{component:_,props:{texta:"\u53c2\u6570111"}},Z,J]}))}}]),t}(L),z=(n(84),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("section",{id:"newsPanel",className:this.props.golbalPanelStyle},this.getSlot("sidebar"),"NewsPanel")}}]),t}(L)),Q={golbalPanelStyle:"chlid-panel col-md-10 col-lg-8"},X=function(){console.log("route ==============> "+window.location.pathname),alert("route: "+window.location.pathname)},Y=function(e){var t=e.component,n=Object(W.a)(e,["component"]),a=n.slots;return l.a.createElement(H.a,Object.assign({},n,{render:function(e){return l.a.createElement(t,Object.assign({},e,a,Q))},onEnter:X}))},F=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("section",{id:"mainPanel"},l.a.createElement(Y,{exact:!0,path:"/",component:q,slots:{sidebar:B}}),l.a.createElement(Y,{path:"/news",component:z,slots:{sidebar:B}}))}}]),t}(a.Component),K=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).urlValidity=n.urlValidity.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){console.log("\u3010Home\u3011componentWillMount => ",this.props);var e=this;this.props.history.listen(function(t,n){console.log("\u5730\u5740\u53d1\u751f\u6539\u53d8: ",t,n),e.props.onActivePathUpdate(t.pathname)})}},{key:"componentDidMount",value:function(){console.log("\u3010Home\u3011componentDidMount => ",this.props),this.urlValidity()}},{key:"componentWillUpdate",value:function(e,t){console.log("\u3010Home\u3011componentWillUpdate props => ",this.props),console.log("\u3010Home\u3011componentWillUpdate nextProps => ",this.nextProps),console.log("\u3010Home\u3011componentWillUpdate nextState => ",this.nextState)}},{key:"urlValidity",value:function(){var e=this.props.location.pathname;C.getState().routerUrl.pathCache.includes(e)?this.props.onActivePathUpdate(e):(console.log("\u3010Home urlValidity\u3011\u4e0d\u5408\u6cd5\u7684url,\u51c6\u5907\u8df3\u8f6c\u81f3\u9ed8\u8ba4\u9996\u9875 => ",e),window.location.pathname="/")}},{key:"urlCache",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement(I,{itemData:this.props.menuData})),l.a.createElement(F,null))}}]),t}(a.PureComponent);var G=Object(v.a)(Object(p.b)(function(e,t){return{}},function(e,t){return{onActivePathUpdate:function(t){console.log("\u6b63\u51c6\u5907\u6fc0\u6d3b\u7684path: ",t),e(N.urlCacheUpdate({activePath:t}))}}})(K)),$=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(G,null)}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(p.a,{store:C},l.a.createElement(o.a,null,l.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,2,1]]]);
//# sourceMappingURL=main.bffcdbf1.chunk.js.map